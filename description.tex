\documentclass{utap}

\usepackage{wrapfig}
\usepackage{verbatim}
\usepackage{fancyvrb}
\usepackage{lscape}
\usepackage{rotating}
\usepackage{xepersian}

\graphicspath{{./img/}}

\title{تمرین شماره‌ی ۷\normalsize\qquad فاز اول}
\author{%
	\href{mailto:bardia.eghbali@gmail.com?subject=[AP\%20S98\%20A7]\%20}{بردیا اقبالی},
	\href{mailto:ahhabibvand@gmail.com?subject=[AP\%20S98\%20A7]\%20}{امیرحسین حبیب‌وند},
	\href{mailto:farzadhabibii98@gmail.com?subject=[AP\%20S98\%20A7]\%20}{فرزاد حبیبی},
	\href{mailto:zangenehsaeed412@gmail.com?subject=[AP\%20S98\%20A7]\%20}{سعید زنگنه},
	\href{mailto:naghavi.pooya@gmail.com?subject=[AP\%20S98\%20A7]\%20}{پویا نقوی}%
}
\course{برنامه‌سازی پیشرفته}
\lecturer{رامتین خسروی}
\deadline{جمعه ۲۷ اردیبهشت ۱۳۹۸، ساعت ۲۳:۵۵}

\newcommand{\commandFormat}[2]
{
	\linespread{1.6}
	\begin{latin}
		\centering
		\begin{minipage}[t]{1\textwidth}
			{\VerbatimInput[frame=lines,label={\rl{دستور ورودی}}]{#1}}
			{\VerbatimInput[frame=lines,label={\rl{خروجی}}]{#2}}
		\end{minipage}
	\end{latin}
}


\begin{document}
	\maketitle
	\section*{مقدمه}
		در این تمرین باید تمامی آموختەهای خود در درس را به کار گیرید تا به درستی این تمرین را پیادەسازی کنید. 
		
		در این تمرین شما باید شبکه‌ای مجازی پیاده‌سازی کنید که در آن افراد می‌توانند به با دو نقش مختلف در آن ثبت‌نام کنند و از امکاناتی که در اختیار شما قرار داده می‌شود، استفاده کنید. نقش اول ناشر است که می‌تواند در شبکه‌ی مجازی فیلم‌های خود را قرار دهد تا بقیه‌ی افراد بتوانند آن‌ها را خریداری کرده و مشاهده کنند. نقش دوم نیز مشتری‌ها هستند که می‌توانند به صورت جداگانه در شبکه ثبت‌نام کنند و به مشاهده‌ و امتیازدهی فیلم‌ها بپردازند.
		
		در فاز اول شما برنامەی این شبکه‌ی مجازی را پیادەسازی می‌کنید که با استفاده از رابط‌ کاربری خط فرمان1 می‌توان از آن استفاده کرد. در فازهای بعدی این برنامه گسترش می‌یابد.


	\section{شرح تمرین}
	در این قسمت تعدادی دستور در ادامه تعریف می‌شود که شما ملزم به پیاده‌سازی آن‌ها هستید. تمامی دستورات پس از اجرا شدن دارای خروجی مشخصی هستند که منحصرا ذکر می‌شود. دقت کنید که خروجی‌های شما به صورت خودکار تست می‌شوند. لذا خروجی شما باید دقیقا همانند خروجی خواسته شده باشد و در غیر این صورت نمره‌ی بخش آزمون
	\LTRfootnote{testcase}
	را از دست خواهید داد.

	\section{خطاها}

\section{دستورها}

	\subsection{ثبت‌نام}
		توسط این دستور افراد می‌توانند در شبکه‌ی مجازی ثبت‌نام کنند. نام کاربری هرکاربر یک رشتەی یکتا در سیستم است. 
		توجه کنید که هر کاربر دارای یک شناسه‌ی 
		\textbf{عددی یکتا}
		است که این شناسه از عدد یک شروع می‌شود. این شناسه به طور خودکار در هنگام ثبت‌نام کاربر به آن تعلق می‌گیرد.
		
		وجود ویژگی ناشر‌بودن اختیاری است و در صورت ذکر‌نشدن نادرست فرض می‌شود.
		\commandFormat{commands/signup.in.txt}{commands/signup.out.txt}
	
	\subsection{مشاهدهٔ پیغام‌های مشاهده‌نشده}
	با این دستور کاربر می‌تواند
	
	\subsection{مشاهدهٔ تمامی پیغام‌ها}

	\subsection{ورود}
		اگر فردی قبلا در شبکه ثبت‌نام کرده باشد، پیش از استفاده از امکانات سامانه باید در آن وارد شود. توجه کنید که اگر کاربری همان‌لحظه در سامانه ثبت‌نام کند، نیازی به دستور ورود ندارد و پس از ثبت‌نام به صورت ضمنی با همان دستور وارد نیز شده است.
		\commandFormat{commands/login.in.txt}{commands/login.out.txt}

	\subsection{ناشران}
		دو دستور قبل برای آن بود که کاربر‌ها بتوانند به منظور استفاده از امکانات به سامانه‌ وارد شوند. هر نوع از کاربران قابلیت‌های خاص خود دارند که از این پس قابلیت‌های آن‌ها را در قالب دستوراتی بیان می‌کنیم.
		
		اگر کاربری به سامانه وارد نشده‌باشد یا دستوری را صدا بزند که مربوط به نوع کاربری او نیست باید پیام خطا PermissionDenied داده‌شود.

		\subsubsection{ثبت فیلم}
			هر ناشر می‌تواند توسط دستور زیر اطلاعات فیلم خود را وارد کرده و آن را به شبکه اضافه کند. قیمت فیلم‌ها به این دلیل است که هر کاربری که بخواهد این فیلم‌ را مشاهده کند باید معادل قیمت آن را پرداخت کند.
			
			توجه کنید که هر فیلم دارای یک شناسه‌ی 
			\textbf{عددی یکتا}
			 است که این شناسه از عدد یک شروع می‌شود و در صورت حذف شدن یک فیلم جایگزین نمی‌شود. این شناسه به طور خودکار در هنگام اضافه شدن فیلم به آن تعلق می‌گیرد.
			\commandFormat{commands/addFilm.in.txt}{commands/addFilm.out.txt}

		\subsubsection{ویرایش اطلاعات فیلم}
			هر ناشر می‌تواند اطلاعات فیلم خود را ویرایش کند. در این دستور کاربر باید شناسهٔ فیلم را وارد کند و سپس هر بخشی از اطلاعات فیلم را که می‌خواهد تغییر بدهد جلوی آن بیاورد.
			\commandFormat{commands/editFilm.in.txt}{commands/editFilm.out.txt}

		\subsubsection{حذف فیلم}
			هر ناشر می‌تواند فیلمی را که خودش اضافه کرده است با دستور زیر از شبکه حذف کند.
			\commandFormat{commands/deleteFilm.in.txt}{commands/deleteFilm.out.txt}

\subsubsection{مشاهده لیست دنبال‌کنندگان}
هر ناشر می‌تواند لیست تمامی کسانی که او را دنبال\LTRfootnote{follow} می‌کنند را با دستور زیر مشاهده کند. این نتایج باید بر حسب شناسه‌ی کاربر‌ها مرتب شده باشد.
\commandFormat{commands/publisherFollowers.in.txt}{commands/publisherFollowers.out.txt}

		\subsubsection{مشاهده‌ی لیست فیلم‌ها}
			هر ناشر می‌تواند با دستور زیر فیلم‌هایی را که خودش در سایت قرار داده است مشاهده کند.
			\commandFormat{commands/getFilms.in.txt}{commands/getFilms.out.txt}

		\subsubsection{مشاهده جزییات فیلم}
			هر ناشر با دستور زیر می‌تواند جزییات فیلم خودش و نظراتی را که کاربران برای این فیلم ثبت کرده‌اند مشاهده کند.
			\commandFormat{commands/filmDetails.in.txt}{commands/filmDetails.out.txt}

		\subsubsection{پاسخ دادن به نظرات}
			هر ناشر می‌تواند به نظراتی که به فیلم‌هایش داده شده پاسخ دهد.
			\commandFormat{commands/commentReply.in.txt}{commands/commentReply.out.txt}

		\subsubsection{حذف کردن نظرات}
			هر ناشر می‌تواند نظراتی را که به فیلم‌هایش داده شده حذف کند.
			\commandFormat{commands/commentDelete.in.txt}{commands/commentDelete.out.txt}
			
		\subsubsection{دریافت اعتبار}
			هر ناشر می‌تواند با دستور زیر اعتباری را که از فروش فیلم‌هایش به~دست~آورده است را از شبکه دریافت کند.
				هر فیلم در شبکه ممکن است یکی از سه حالت زیر را داشته باشه:
				\begin{enumerate}
					\item ضعیف: اگر امتیاز یک فیلم از ۵ کمتر باشد، این فیلم در حالت ضعیف قرار دارد.
					\item متوسط: اگر امتیاز یک فیلم بیشتر مساوی ۵ باشد و کمتر از ۸ باشد، این فیلم در حالت متوسط قرار دارد.
					\item قوی: اگر امتیاز یک فیلم بیشتر مساوی ۸ باشد، این فیلم در حالت قوی قرار دارد.
				\end{enumerate}
				وقتی کاربر پول پرداخت می‌کند، بر اساس اینکه فیلم در کدام یک از حالت‌های بالا باشد، مقداری از آن به ناشر تعلق می‌گیرد و باقی آن در حساب شبکه باقی می‌ماند.
				هر ناشر برای فیلم خود در حالت ضعیف باید۸۰ درصد، در حالت متوسط ۹۰ درصد و در حالت قوی ۹۵ درصد از مبلغ را از شبکه دریافت کند.
			\commandFormat{commands/getMoney.in.txt}{commands/getMoney.out.txt}

	\subsection{مشتریان}
		تا این جا با قابلیت‌هایی که تنها ناشر می‌تواند انجام دهد، آشنا شدیم.
		از این پس با قابلیت‌های مشتری‌ها آشنا می‌شویم.
		توجه کنید که هر ناشر برای فیلم‌های دیگر می‌تواند در نقش یک مشتری باشد.
		یعنی تمام قابلیت‌های مشتری را نیز علاوه بر قابلیت‌های ناشر داراست.

		\subsubsection{دنبال کردن}
			هر مشتری می‌تواند با دستور زیر ناشر مورد علاقه‌ی خود را دنبال کند.
			دنبال کردن ناشر این ویژگی را دارد که وقتی این ناشر فیلم جدیدی قرار می‌دهد به تمامی مشتری‌هایی که آن‌ را دنبال کرده‌اند، اطلاع‌رسانی می‌شود.
			همچنین هنگامی که کاربری یک ناشر را دنبال می‌کند باید برای آن ناشر پیغامی  ارسال شود.
			\commandFormat{commands/customerFollow.in.txt}{commands/customerFollow.out.txt}

	\section{نکات پایانی}
		\begin{itemize}
			\item
			\item
			\item
			\item
		\end{itemize}

	\section{نحوه‌ی تحویل}
		پرونده‌‌های مربوط به برنامه‌ی خود را در پوشه‌ای با نام \lr{\path{A7-1-SID.zip}} در صفحه‌ی \lr{CECM} درس بارگذاری کنید که \lr{SID} شماره‌ی دانشجویی شماست؛ برای مثال اگر شماره‌ی دانشجویی شما ۸۱۰۱۹۷۹۹۹ باشد، نام پوشه‌ی شما باید \lr{\path{A7-Phase1-810197999.zip}} باشد.
		\begin{itemize}
			\item
						برنامه‌ی شما باید در سیستم‌عامل لینوکس و با مترجم \lr{g++} با استاندارد \lr{\texttt{c++11}} ترجمه و اجرا شود.
					\item
						برنامه‌ی شما باید حتما طراحی شیءگرا داشته باشد. همچنین باید به صورت \lr{Multifile} باشد و استفاده از \lr{Makefile} در این تمرین اجباری است.
					\item
						هدف این تمرین یادگیری شماست. لطفاً تمرین را خودتان انجام دهید. در صورت کشف تقلب مطابق قوانین درس با آن برخورد خواهد شد.
		\end{itemize}
\end{document}
